<html><head>
<style type="text/css">
td{ vertical-align:top;
 background-color:white;
 white-space:nowrap;
 font-family:lucida console,monospace;
 font-weight:bold; font-size:x-large;}
code{ font-size:large; text-transform:lowercase;}
.t1{ color:#ddaa00;}
.h2{ color:#aa7700; font-style:italic;}
.d2{ color:#ddaa00;}
.t3{ color:#ff0000;}
.t4{ color:#00cc00;}
.h5{ color:#009900; font-style:italic;}
.d5{ color:#00cc00;}
.h6{ color:#009900; font-style:italic;}
.d6{ color:#00cc00;}
.t7{ color:#00cccc;}
.h8{ color:#aa7700; font-style:italic;}
.d8{ color:#ddaa00;}
.t9{ color:#444444;}
.ta{ color:#000000; text-transform:capitalize;}
.tb{ color:#000000; text-transform:uppercase;}
.tc{ color:#ff00ff;}
.dc{ color:#00ff00;}
.hd{ color:#bbbbbb; font-style:italic;}
.te{ color:#0000ff;}
.hf{ color:#777777; font-style:italic;}
.df{ color:#444444;}
</style>
</head><body><table>

<tr>
<td class=cf><br><code class=t9>f18 target compiler</code><code class=t1> includes support for f18a <br>addressing see</code><code class=d8> 1404</code><code class=t3><br>h</code><code class=t9> address of next available word in target mem<br>ory here</code><code class=t3><br>ip</code><code class=t9> address of current instruction word</code><code class=t3><br>slot</code><code class=t9> next available instruction slot</code><code class=t3><br>call?</code><code class=t9> was last instruction a call ?</code><code class=t3><br>call</code><code class=t4> a</code><code class=t9> compile a call</code><code class=t3><br>eras</code><code class=t9> fills f18 memory with call 155 number</code><code class=t3><br>2*s</code><code class=t4> n</code><code class=t9> shift left n bits</code><code class=t3><br>node's</code><code class=t9> target node's starting memory block no.</code><code class=t3><br>memory</code><code class=t4> n-a</code><code class=t9> host address for target memory</code><code class=t3><br>-org</code><code class=t4> n</code><code class=t9> set current target memory location, see</code><code class=te><br>...</code><code class=t9>next block for true directive.</code><code class=t3><br>break</code><code class=t9> break in emulator only</code><code class=t3><br>p,</code><code class=t4> n</code><code class=t9> compile pattern into target memory</code><code class=t3><br>s0-s4</code><code class=t9> assemble opcode into slot 0-3</code><code class=t3><br>i,</code><code class=t9> assemble opcode into next slot *note** simp<br>le code jump table using</code><code class=t1> jump&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>1400 list
<br><code class=t9>f18 compiler</code><code class=tc> h</code><code class=dc> 12</code><code class=tc> ip</code><code class=dc> 11</code><code class=tc> slot</code><code class=dc> 4</code><code class=tc> call?</code><code class=dc> 768</code><code class=tc> cal</code><code class=dc> 2<br>71556516</code><code class=tc> com</code><code class=dc> 89</code><code class=t1> macro</code><code class=t3><br>!7</code><code class=h6> BD0489</code><code class=t4> 3,</code><code class=h6> FFFFFFFC</code><code class=t4> ,</code><code class=t7> drop</code><code class=t4> ;</code><code class=t3><br>2*s</code><code class=t4> ?lit</code><code class=h6> E0C1</code><code class=t4> 2, 1, ;</code><code class=t3><br>call</code><code class=t9> nn</code><code class=t7> ?dup</code><code class=h6> B8</code><code class=t4> 1, ,</code><code class=h6> E9</code><code class=t4> 1,</code><code class=t1> cal</code><code class=t4> @ here</code><code class=d6> 3</code><code class=t4> + - + <br>, ;</code><code class=t1> forth</code><code class=t3><br>swap</code><code class=t4> swap ;</code><code class=t3><br>eras</code><code class=t9> nn</code><code class=t4> push</code><code class=h6> 61FC</code><code class=t9> call a9</code><code class=t4> swap block pop</code><code class=t9> blks</code><code class=t4> <br>fill ;</code><code class=t3><br>node's</code><code class=t9> -n</code><code class=t1> com</code><code class=t4> @ 2*</code><code class=h6> 8000</code><code class=t4> + ;</code><code class=t3><br>memory</code><code class=t9> n-a</code><code class=h8> 240</code><code class=t1> -</code><code class=t4> and node's block + ;</code><code class=te> cr<br></code><code class=h8>8000</code><code class=t1> nnc</code><code class=d8> 2</code><code class=t1> * blks eras</code><code class=t3><br>-org</code><code class=t9> n</code><code class=t4> dup</code><code class=t1> h</code><code class=t4> !</code><code class=t1> ip</code><code class=t4> !</code><code class=d6> 0</code><code class=t1> call?</code><code class=t4> !</code><code class=te>*</code><code class=t3>break</code><code class=d6> 4</code><code class=t1> slot</code><code class=t4> ! ;</code><code class=t3><br>p,</code><code class=t9> n</code><code class=t1> h</code><code class=t4> @ memory !</code><code class=t1> h</code><code class=t4> @</code><code class=d6> 1</code><code class=t4> over + over or</code><code class=h6> 7F</code><code class=t4> and <br>or</code><code class=t1> h</code><code class=t4> ! ;</code><code class=t3><br>s4</code><code class=t1> h</code><code class=t4> @</code><code class=t1> ip</code><code class=t4> !</code><code class=d6> 13</code><code class=t4> 2*s dup</code><code class=t1> call?</code><code class=t4> ! p,</code><code class=d6> 1</code><code class=t1> slot</code><code class=t4> ! ;</code><code class=t3><br>s0</code><code class=d6> 13</code><code class=t4> 2*s</code><code class=t3><br>sn</code><code class=t4> dup</code><code class=t1> call?</code><code class=t4> !</code><code class=t1> ip</code><code class=t4> @ memory +!</code><code class=d6> 1</code><code class=t1> slot</code><code class=t4> +! ;</code><code class=t3><br>s1</code><code class=d6> 8</code><code class=t4> 2*s sn ;</code><code class=t3><br>s2</code><code class=d6> 3</code><code class=t4> 2*s sn ;</code><code class=t3><br>s3</code><code class=t4> dup</code><code class=d6> 3</code><code class=t4> and drop if</code><code class=d6> 7</code><code class=t4> sn s4 ; then</code><code class=d6> 4</code><code class=t4> / sn ;</code><code class=t3><br>i,</code><code class=t1> slot</code><code class=t4> @ jump s0 s1 s2 s3 s4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t3>defer</code><code class=t4> -a</code><code class=t9> byte address of the compiled code tha<br>t follows -- used for forward referencing</code><code class=t3><br>execute</code><code class=t4> a</code><code class=t9> code at this address</code><code class=t3><br>f!</code><code class=t4> an</code><code class=t9> store address of code executed when a wo<br>rd with this function is interpreted</code><code class=t3><br>f@</code><code class=t4> n-a</code><code class=t9> fetch address of function code</code><code class=t3><br>class</code><code class=t4> a</code><code class=t9> store address of code to be executed f<br>or each word subsequently defined</code><code class=t3><br>empty</code><code class=t9> redefine empty to restore altered functi<br>ons</code><code class=t3><br>host</code><code class=t9> change context back to colorforth</code><code class=t3><br>functions</code><code class=t4> aa</code><code class=t9> store functions in kernel specifi<br>c way</code><code class=t3><br>c18</code><code class=t9> save green word and number functions. set <br>green short-number to n, compile to call. targ<br>et words are executed to assemble instructions</code><code class=t3><br>.</code><code class=t9> nop used to fill instruction words</code><code class=t3><br>..</code><code class=t9> fills rest of word with nops</code><code class=t3><br>here</code><code class=t4> -a</code><code class=t9> starts new instruction word. leaves ta<br>rget address as number</code><code class=t3><br>org</code><code class=t9> sets compilation address safely.</code><code class=t3><br>await</code><code class=t9> generates call to node's idle ports.&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>1402 list
<br><code class=t9>target</code><code class=t3><br>cnt</code><code class=t4> 2/</code><code class=d6> -1</code><code class=t4> + ;</code><code class=t3><br>defer</code><code class=t9> -b</code><code class=t4> pop ;</code><code class=t3><br>execute</code><code class=t9> b</code><code class=t4> push ;</code><code class=t3><br>f!</code><code class=t9> bn</code><code class=t1> sp</code><code class=t4> + ! ;</code><code class=t3><br>f@</code><code class=t9> n-b</code><code class=t1> sp</code><code class=t4> + @ ;</code><code class=t3><br>class</code><code class=t9> b</code><code class=t1> last</code><code class=d8> 1</code><code class=t1> +</code><code class=t4> ! ;</code><code class=t3><br>empty</code><code class=t4> empt</code><code class=t3><br>host</code><code class=d6> 0</code><code class=t4> class</code><code class=d8> 6</code><code class=t1> f@</code><code class=t4> nop</code><code class=d8> 4</code><code class=t1> f@</code><code class=t4> nop</code><code class=d8> 13</code><code class=t1> f@</code><code class=t4> nop</code><code class=t3><br>functions</code><code class=t9> bbb</code><code class=d6> 13</code><code class=t4> f!</code><code class=d6> 4</code><code class=t4> f!</code><code class=d6> 6</code><code class=t4> f! ;</code><code class=t3><br>.</code><code class=h6> 1C</code><code class=t4> i, ;</code><code class=t9> nop</code><code class=t3><br>hhere</code><code class=t4> here ;</code><code class=t3><br>..</code><code class=t1> slot</code><code class=t4> @</code><code class=d6> 4</code><code class=t4> or drop if . .. ; then</code><code class=d6> 0</code><code class=t1> call?</code><code class=t4> ! ;</code><code class=t3><br>here</code><code class=t4> ..</code><code class=t1> h</code><code class=t4> @</code><code class=h6> 3FF</code><code class=t4> and ;</code><code class=t1> hhere</code><code class=t3><br>report</code><code class=t9> here</code><code class=t1> h</code><code class=t4> @</code><code class=t1> slot</code><code class=t4> @</code><code class=d6> 3</code><code class=t4> and</code><code class=d6> 1024</code><code class=t4> * or</code><code class=te>,<br></code><code class=d6>32</code><code class=t4> *</code><code class=d8> 13 16</code><code class=t1> +</code><code class=t4> + !7 ;</code><code class=t3><br>org</code><code class=t9> n</code><code class=t4> .. -org ;</code><code class=t3><br>f18</code><code class=t9> b</code><code class=d6> 1</code><code class=t4> f@</code><code class=d8> 0</code><code class=t1> +</code><code class=t4> functions ;</code><code class=t3><br>+cy</code><code class=t4> here</code><code class=h6> 200</code><code class=t4> over - and or org ;</code><code class=t3><br>-cy</code><code class=t4> here</code><code class=h8> 200</code><code class=t1> -</code><code class=t4> and org ;</code><code class=t3><br>await</code><code class=t1> com</code><code class=t4> @ idle</code><code class=t1> cal</code><code class=t4> @ execute ;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t1>the f18a uses adr bit</code><code class=d8> 9</code><code class=t1> for mode;</code><code class=d8> 8</code><code class=t1> for i/o;</code><code class=d8> 7</code><code class=t1><br>for rom. incrementer maintains bits 0-6, rest <br>are left alone except for return and slot</code><code class=d8> 0</code><code class=t1> ju<br>mps.</code><code class=te> br<br><br></code><code class=t3>9same</code><code class=t9> is true if the two addresses match in bi<br>t 9 - the extended arithmetic mode bit.</code><code class=t3><br>-adr</code><code class=t4> an</code><code class=t9> assembles jump to known address</code><code class=t3><br>adr</code><code class=t4> n-a</code><code class=t9> assembles forward jump in slot 0,1,2. <br>value left on stack is instr addr * 64 + here-<br>ip + slot.</code><code class=t3><br>@h</code><code class=t9> given that vlue value / 8 returns p at time<br>the jump executes.</code><code class=t3><br>then</code><code class=t4> a</code><code class=t9> insert address for forward jump&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>1404 list
<br><code class=t9>f18 jump instructions</code><code class=t3><br>9same</code><code class=t9> axa-ax</code><code class=t4> push over pop - or</code><code class=h8> 200</code><code class=t4> and drop ;</code><code class=t3><br>j3</code><code class=t4> .</code><code class=t3><br>j0</code><code class=t4> i,</code><code class=t1> ip</code><code class=t4> @ memory +! break ;</code><code class=t3><br>j1</code><code class=t1> h</code><code class=t4> @ 9same if over</code><code class=h6> 100</code><code class=t4> and drop if swap</code><code class=h6> FF</code><code class=t4> a<br>nd swap j0 ; then then . . j3 ;</code><code class=t3><br>j2</code><code class=t4> over</code><code class=h6> 155</code><code class=t4> or</code><code class=t1> h</code><code class=t4> @ or</code><code class=h6> 3F8</code><code class=t4> and drop if . j3 ; t<br>hen swap</code><code class=d6> 7</code><code class=t4> and swap j0 ;</code><code class=t3><br>-adr</code><code class=t9> an</code><code class=t4> swap</code><code class=h6> 155</code><code class=t4> or swap</code><code class=t1> slot</code><code class=t4> @ jump j0 j1 j2 <br>j3 j0</code><code class=t3><br>adr</code><code class=t9> n-n</code><code class=t1> slot</code><code class=t4> @</code><code class=d6> 3</code><code class=t4> or drop if i,</code><code class=t1> ip</code><code class=t4> @</code><code class=d6> 8</code><code class=t4> *</code><code class=t1> h</code><code class=t4> @</code><code class=t1> ip</code><code class=t4><br>@ negate + +</code><code class=d6> 8</code><code class=t4> *</code><code class=t1> slot</code><code class=t4> @ + break ; then . adr ;</code><code class=t3><br>@h</code><code class=t9> n-a</code><code class=d6> 8</code><code class=t4> /mod + ;</code><code class=t3><br>-rng</code><code class=t4> -range abort ;</code><code class=t3><br>f3</code><code class=t9> an</code><code class=t4> over</code><code class=h6> 155</code><code class=t4> or over @h or</code><code class=h6> 2F8</code><code class=t4> and drop if</code><code class=te>,<br></code><code class=t4>-rng ; then swap</code><code class=d6> 7</code><code class=t4> and swap</code><code class=d6> 8</code><code class=t4> / memory +! ;</code><code class=t3><br>f2</code><code class=t4> dup @h 9same if over</code><code class=h6> 100</code><code class=t4> and drop if swap</code><code class=h6> F<br>F</code><code class=t4> and swap</code><code class=t3><br>f1</code><code class=d6> 8</code><code class=t4> / memory +! ; then then -rng ;</code><code class=t3><br>then</code><code class=t9> n</code><code class=t4> here</code><code class=h6> 155</code><code class=t4> or swap</code><code class=d6> 8</code><code class=t4> /mod swap jump f1 f1<br>f2 f3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t3>def</code><code class=t4> -a</code><code class=t9> deferred to class. executed for every t<br>arget definition to compile host code that com<br>piles target call</code><code class=t3><br>call</code><code class=t4> a</code><code class=t9> compile target call</code><code class=t3><br>;</code><code class=t9> will be executed as a target word. the penti<br>um macro has precedence while compiling</code><code class=t3><br>if/-if</code><code class=t9> leaves address of jump on stack</code><code class=t3><br>-until</code><code class=t4> a</code><code class=t9> jump if positive to</code><code class=t4> begin</code><code class=t3><br>zif</code><code class=t9> forward</code><code class=t4> next</code><code class=t9> decrements r and jumps if r! <br>else pops and falls thru</code><code class=t3><br>next/for<br>n</code><code class=t9> executed for green short-numbers. all 18-bit<br>target numbers are short. executes white short<br>-number to put interpreted number on stack. th<br>en assembles literal instruction with number i<br>n next location. inverted for rom</code><code class=t3><br>,</code><code class=t4> n</code><code class=t9> compile number into target memory</code><code class=t3><br>?lit</code><code class=t4> -n</code><code class=t9> retrieve previously compiled number</code><code class=t3><br>begin</code><code class=t4> -a</code><code class=t9> starts new instruction word. leaves p<br>roperly formatted target address</code><code class=t3><br>ahead</code><code class=t9> compiles fwd ref jump resolve w/then</code><code class=t3><br>leap</code><code class=t9> like ahead but compiles a call&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>1406 list
<br><code class=t9>complex instructions</code><code class=t3><br>def</code><code class=t4> defer here</code><code class=t7> call</code><code class=t4> ;</code><code class=t3><br>call</code><code class=t4> defer</code><code class=t9> a</code><code class=d6> 3</code><code class=t4> -adr ;</code><code class=t1> call cal !</code><code class=t3><br>;</code><code class=t1> call?</code><code class=t4> @ dup</code><code class=h6> 6000</code><code class=t4> or drop if dup</code><code class=h6> 300</code><code class=t4> or drop <br>if dup</code><code class=h6> 18</code><code class=t4> or drop if</code><code class=d6> 0</code><code class=t4> and i, break ; then the<br>n then dup 2/ and negate</code><code class=t1> ip</code><code class=t4> @ memory +! ;</code><code class=t3><br>-if</code><code class=t9> -a</code><code class=d6> 7</code><code class=t4> adr ;</code><code class=t3><br>if</code><code class=t9> -a</code><code class=d6> 6</code><code class=t4> adr ;</code><code class=t3><br>-until</code><code class=t9> a</code><code class=d6> 7</code><code class=t4> -adr ;</code><code class=t3><br>until</code><code class=t9> a</code><code class=d6> 6</code><code class=t4> -adr ;</code><code class=t3><br>-while</code><code class=t9> a-aa</code><code class=d6> 7</code><code class=t4> adr swap ;</code><code class=t3><br>while</code><code class=t9> a-aa</code><code class=d6> 6</code><code class=t4> adr swap ;</code><code class=t3><br>zif</code><code class=t9> -a</code><code class=d6> 5</code><code class=t4> adr ;</code><code class=t3><br>*next</code><code class=t9> aa-a</code><code class=t4> swap</code><code class=t3><br>next</code><code class=t9> a</code><code class=d6> 5</code><code class=t4> -adr ;</code><code class=t3><br>unext</code><code class=t9> a</code><code class=d6> 4</code><code class=t4> i, drop ;</code><code class=t3><br>n</code><code class=t4> defer</code><code class=d6> 8</code><code class=t4> f@ execute</code><code class=t3><br>lit</code><code class=d6> 8</code><code class=t4> i,</code><code class=h6> 3FFFF</code><code class=t4> and</code><code class=t9> ok in slot 3</code><code class=t3><br>,</code><code class=t9> n</code><code class=h6> 15555</code><code class=t4> or p, ;</code><code class=t3><br>for</code><code class=h6> 1D</code><code class=t4> i,</code><code class=t3><br>begin</code><code class=t4> here ;</code><code class=t3><br>ahead</code><code class=t9> -a</code><code class=d6> 2</code><code class=t4> adr ;</code><code class=t3><br>end</code><code class=t9> a</code><code class=d6> 2</code><code class=t4> -adr ;</code><code class=t3><br>leap</code><code class=t9> -a</code><code class=d6> 3</code><code class=t4> adr ;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t9>words being redefined for the target computer.<br>these host words can no longer be executed. al<br>though pentium macros take precedence during c<br>ompilation, they will no longer be used.</code><code class=t3><br>f18</code><code class=t9> instructions</code><code class=t3><br>0</code><code class=t9> ;</code><code class=t4> ....8</code><code class=t9> @p</code><code class=t4> .10</code><code class=t9> +*</code><code class=t4> ..18</code><code class=t9> dup</code><code class=t3><br>1</code><code class=t9> ex</code><code class=t4> ...9</code><code class=t9> @+</code><code class=t4> .11</code><code class=t9> 2*</code><code class=t4> ..19</code><code class=t9> pop</code><code class=t3><br>2</code><code class=t9> j</code><code class=t4> ....a</code><code class=t9> @b</code><code class=t4> .12</code><code class=t9> 2/</code><code class=t4> ..1a</code><code class=t9> over</code><code class=t3><br>3</code><code class=t9> call</code><code class=t4> .b</code><code class=t9> @</code><code class=t4> ..13</code><code class=t9> -</code><code class=t4> ...1b</code><code class=t9> a</code><code class=t3><br>4</code><code class=t9> unext</code><code class=t4> c</code><code class=t9> !p</code><code class=t4> .14</code><code class=t9> +</code><code class=t4> ...1c</code><code class=t9> .</code><code class=t3><br>5</code><code class=t9> next</code><code class=t4> .d</code><code class=t9> !+</code><code class=t4> .15</code><code class=t9> and</code><code class=t4> .1d</code><code class=t9> push</code><code class=t3><br>6</code><code class=t9> if</code><code class=t4> ...e</code><code class=t9> !b</code><code class=t4> .16</code><code class=t9> or</code><code class=t4> ..1e</code><code class=t9> b!</code><code class=t3><br>7</code><code class=t9> -if</code><code class=t4> ..f</code><code class=t9> !</code><code class=t4> ..17</code><code class=t9> drop</code><code class=t4> 1f</code><code class=t9> a!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>1408 list
<br><code class=t9>instructions</code><code class=t3><br>target</code><code class=t4> n f18 def class ;</code><code class=t3><br>ex</code><code class=te> -cr</code><code class=t3> &nbsp;;'</code><code class=d6> 1</code><code class=t4> i, break ;</code><code class=t3><br>rx<br>@p</code><code class=te> -cr</code><code class=t3> &nbsp;@p+</code><code class=d6> 8</code><code class=t4> i, ;</code><code class=t3><br>@+</code><code class=d6> 9</code><code class=t4> i, ;</code><code class=t3><br>@b</code><code class=h6> A</code><code class=t4> i, ;</code><code class=t3><br>@</code><code class=h6> B</code><code class=t4> i, ;</code><code class=t3><br>!p</code><code class=te> -cr</code><code class=t3> &nbsp;!p+</code><code class=h6> C</code><code class=t4> i, ;</code><code class=t3><br>!+</code><code class=h6> D</code><code class=t4> i, ;</code><code class=t3><br>!b</code><code class=h6> E</code><code class=t4> i, ;</code><code class=t3><br>!</code><code class=h6> F</code><code class=t4> i, ;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>1410 list
<br><code class=t9>port literals and constants</code><code class=t3><br>right</code><code class=t9> .</code><code class=h8> 1D5</code><code class=t4> lit ;</code><code class=t9> 0101111111 register bits</code><code class=t3><br>down</code><code class=t9> ..</code><code class=h8> 115</code><code class=t4> lit ;</code><code class=t9> 0110111111</code><code class=t3><br>left</code><code class=t9> ..</code><code class=h8> 175</code><code class=t4> lit ;</code><code class=t9> 0111011111</code><code class=t3><br>up</code><code class=t9> ....</code><code class=h8> 145</code><code class=t4> lit ;</code><code class=t9> 0111101111</code><code class=t3><br>io</code><code class=t9> ....</code><code class=h6> 15D</code><code class=t4> lit ;</code><code class=t9> 0111110111</code><code class=t3><br>ldata</code><code class=t9> .</code><code class=h6> 171</code><code class=t4> lit ;</code><code class=t9> 0111011011</code><code class=t3><br>data</code><code class=t9> ..</code><code class=h6> 141</code><code class=t4> lit ;</code><code class=t9> 0111101011 port calls</code><code class=t3><br>warp</code><code class=t9> ..</code><code class=h8> 157</code><code class=t4> lit ;</code><code class=t9> 0111111101</code><code class=t3><br>center</code><code class=h6> 1A5</code><code class=t4> lit ;</code><code class=t3><br>top</code><code class=h6> 1B5</code><code class=t4> lit ;</code><code class=t3><br>side</code><code class=h6> 185</code><code class=t4> lit ;</code><code class=t3><br>corner</code><code class=h6> 195</code><code class=t4> lit ;</code><code class=t3><br>/mod</code><code class=t4> /mod ;</code><code class=t3><br>spispeed</code><code class=d6> 497</code><code class=t9> 0</code><code class=t4> lit ;</code><code class=h8> 0</code><code class=t9> 24-bit adrs</code><code class=d8> 4</code><code class=t1> *</code><code class=d8> 262144</code><code class=t1> <br>/mod</code><code class=t9> al ah</code><code class=h8> 3</code><code class=t9> read cmd</code><code class=d8> 256</code><code class=t1> * +</code><code class=d8> 4</code><code class=t1> *</code><code class=t3><br>spicmd</code><code class=t9> c.ah</code><code class=d8> 0</code><code class=t1> +</code><code class=t4> lit ;</code><code class=t3><br>spiadr</code><code class=t9> al</code><code class=d8> 0</code><code class=t1> +</code><code class=t4> lit ;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t3>o</code><code class=t9> replaces top-of-stack with 0. f18 instructio<br>ns can't be used in macros - forth macros take<br>precedence&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>1412 list
<br><code class=t9>more instructions</code><code class=t3><br>+*</code><code class=h6> 10</code><code class=t4> i, ;</code><code class=t9> slot 3 ok</code><code class=t3><br>2*</code><code class=h6> 11</code><code class=t4> i, ;</code><code class=t3><br>2/</code><code class=h6> 12</code><code class=t4> i, ;</code><code class=t3><br>-</code><code class=h6> 13</code><code class=t4> i, ;</code><code class=t3><br>+</code><code class=h6> 14</code><code class=t4> i, ;</code><code class=t9> slot 3 ok</code><code class=t3><br>and</code><code class=h6> 15</code><code class=t4> i, ;</code><code class=t3><br>or</code><code class=h6> 16</code><code class=t4> i, ;</code><code class=t9> exclusive-or</code><code class=t3><br>drop</code><code class=h6> 17</code><code class=t4> i, ;</code><code class=t3><br>dup</code><code class=h6> 18</code><code class=t4> i, ;</code><code class=t9> slot 3 ok</code><code class=t3><br>pop</code><code class=h6> 19</code><code class=t4> i, ;</code><code class=t3><br>over</code><code class=h6> 1A</code><code class=t4> i, ;</code><code class=t3><br>a</code><code class=h6> 1B</code><code class=t4> i, ;</code><code class=t3><br>push</code><code class=h6> 1D</code><code class=t4> i, ;</code><code class=t3><br>b!</code><code class=h6> 1E</code><code class=t4> i, ;</code><code class=t3><br>a!</code><code class=h6> 1F</code><code class=t4> i, ;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>

</table></body></html>
